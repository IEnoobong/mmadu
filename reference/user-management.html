<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mmadu User Service Reference</title>
    <meta name="description" content="Documentation on all of Mmadu">
    <meta name="author" content="Your name goes here">
    <meta name="copyright" content="Maybe consider a Creative Commons license">
    <link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
    <link rel="stylesheet" href="../css/font-awesome.css">
    <link rel="stylesheet" href="../css/coderay.css">
    <link rel="stylesheet" href="../css/asciidoctor.css">
    <script src="../js/vendor/modernizr.js"></script>
    <script src="../js/toc.js"></script>
</head>
<body>


<div class="top-bar">
    <div class="top-bar-left">
        <ul class="menu">
            <a href="../">Mmadu</a>
        </ul>
    </div>
    <div class="top-bar-right">
        <ul class="menu">
            <li><a href="../guides">GETTING STARTED</a></li>
            <li><a href="../reference">DOCS</a></li>
            <li><a href="../community">COMMUNITY</a></li>
            <li><a href="../blog">BLOG</a></li>
        </ul>
    </div>
</div>


<!-- Main Page Content and Sidebar -->

<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns" role="content">

        <h1>Mmadu User Service Reference</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#overview">1. Overview</a></li>
<li><a href="#features">2. Features</a></li>
<li><a href="#default_configuration">3. Default Configuration</a>
<ul class="sectlevel2">
<li><a href="#default_port">3.1. Default Port</a></li>
</ul>
</li>
<li><a href="#managing_domains">4. Managing Domains</a>
<ul class="sectlevel2">
<li><a href="#setting_up_a_domain">4.1. Setting Up A Domain</a></li>
<li><a href="#creating_a_domain">4.2. Creating A domain</a></li>
<li><a href="#retrieving_a_domain">4.3. Retrieving a Domain</a></li>
<li><a href="#retrieving_all_domains">4.4. Retrieving All Domains</a></li>
<li><a href="#updating_a_domain">4.5. Updating A Domain</a></li>
<li><a href="#removing_a_domain">4.6. Removing A Domain</a></li>
</ul>
</li>
<li><a href="#authentication">5. Authentication</a>
<ul class="sectlevel2">
<li><a href="#authentication_request">5.1. Authentication Request</a></li>
<li><a href="#authentication_response">5.2. Authentication Response</a></li>
</ul>
</li>
<li><a href="#managing_users">6. Managing Users</a>
<ul class="sectlevel2">
<li><a href="#creating_a_user">6.1. Creating A User</a></li>
<li><a href="#retrieving_a_user">6.2. Retrieving A User</a></li>
<li><a href="#removing_a_user_with_an_id">6.3. Removing A User with an ID</a></li>
<li><a href="#updating_a_user_with_an_id">6.4. Updating A User with an ID</a></li>
<li><a href="#loading_a_user_by_username">6.5. Loading A User By Username</a></li>
<li><a href="#querying_users">6.6. Querying Users</a></li>
<li><a href="#partial_user_update">6.7. Partial User Update</a></li>
</ul>
</li>
<li><a href="#managing_groups">7. Managing Groups</a>
<ul class="sectlevel2">
<li><a href="#creating_a_group">7.1. Creating A Group</a></li>
<li><a href="#adding_user_to_a_group">7.2. Adding User To A Group</a></li>
<li><a href="#getting_all_users_in_groups">7.3. Getting all Users In Groups</a></li>
</ul>
</li>
<li><a href="#managing_roles">8. Managing Roles</a>
<ul class="sectlevel2">
<li><a href="#creating_a_role">8.1. Creating A Role</a></li>
<li><a href="#granting_a_role_to_a_user">8.2. Granting a Role to a User</a></li>
<li><a href="#getting_all_roles_in_a_domain">8.3. Getting all Roles In a Domain</a></li>
<li><a href="#removing_a_role">8.4. Removing a Role</a></li>
<li><a href="#adding_authorities_to_a_role">8.5. Adding Authorities to a Role</a></li>
<li><a href="#removing_authorities_from_a_role">8.6. Removing Authorities from a Role</a></li>
</ul>
</li>
<li><a href="#managing_authorities">9. Managing Authorities</a>
<ul class="sectlevel2">
<li><a href="#creating_an_authority">9.1. Creating an Authority</a></li>
<li><a href="#get_all_authorities_in_a_domain">9.2. Get All Authorities in a Domain</a></li>
<li><a href="#removing_an_authority">9.3. Removing an Authority</a></li>
<li><a href="#granting_an_authority_to_a_user">9.4. Granting an Authority to a User</a></li>
<li><a href="#revoking_user_authorities">9.5. Revoking User Authorities</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="overview">1. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mmadu User Service is an independent service for managing users. It exposes the following resources
for managing users:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>AppDomains - This is a tenant, with its own users, groups, roles and authorities.</p>
</li>
<li>
<p>AppUsers - Representing users of client applications. Users can have custom properties defined by the domain.</p>
</li>
<li>
<p>Roles and Authorities - Enforcable user privileges.</p>
</li>
<li>
<p>Groups - Objects used to further categorize users in a tree hierarchy.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="features">2. Features</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently, mmadu user service provides the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Resource Management - Management of domains, users, roles, authorities and groups</p>
</li>
<li>
<p>Authentication - Provides an api that clients can use to Authenticate their users.</p>
</li>
<li>
<p>Password Hashing - Passwords of users are hashed and cannot be decrypted.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="default_configuration">3. Default Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="default_port">3.1. Default Port</h3>
<div class="paragraph">
<p>Mmadu User Service listens to port 15551 by default and this can be configured using the SERVER_PORT environment variable
or the server.port SpringBoot property.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing_domains">4. Managing Domains</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A domain is analogous to a realm. This represents a user pool with its own set of users, groups, roles, and authorities.</p>
</div>
<div class="paragraph">
<p>A client application references users in one domain. A domain is referenced by a domain id. Applications
can share the same user base by using the same domain id.</p>
</div>
<div class="sect2">
<h3 id="setting_up_a_domain">4.1. Setting Up A Domain</h3>
<div class="paragraph">
<p>With one API call, you can set up users, roles, authorities and groups needed for your domain. Domain configuration is done
with a call to <code>POST /domains</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This api is only used for initial domain setup.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Authority: <code>domain.initialize</code></p>
</div>
<div class="sect3">
<h4 id="domain_setup_request_fields">4.1.1. Domain Setup Request Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain Name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].users</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined users</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined authorities</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined roles</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].groups</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined groups (starting with parents)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].roleAuthorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined role authority mappings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].userAuthorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined user authority mappings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].userRoles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined user role mappings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].userGroups</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of predefined user group mappings</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_domain_setup_request">4.1.2. Sample Domain Setup Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MzgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEuZ2xvYmFsLmRvbWFpbi5pbml0aWFsaXplIiwiZXhwIjoxNTkyOTE1ODQzLCJpYXQiOjE1OTI5MTU4MzgsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.F3D50yrXxMXpidJcT2Q-YNJDsazK49EPFpU-6vmXi9ZxYYwZ7Q_VhUGpSbau3TadW5-2JlHBC5TpkdT0peeucxYXZr_pIECoIBxCrAyfP7VOTX3PJSOW3tOzS_KFaztRSCzf5EEigtG2UBCEk6mUP9dbK83-tQhDnX4aHiZ7aTM8GPXQaGB9YSoA8c6U4TQ94p0L2GnMKukzSUbpY0j0TEdNOxOifNjBg69WyOZA5lwTXX0A01D1PrdJkytxCQK4FUpbFuwuH0EOrv3aI0B0J3JnP7neYBtdHlYu6nG64QoU7VJBueJMQ1NtTb5Q-E8pulCPzg0VssDUxK6wHrOQwA
Content-Length: 1361
Host: localhost:8080

[
  {
    &quot;id&quot;: &quot;1312&quot;,
    &quot;name&quot;: &quot;global-config&quot;,
    &quot;users&quot;: [
      {
        &quot;username&quot;: &quot;test&quot;,
        &quot;password&quot;: &quot;test&quot;,
        &quot;externalId&quot;: 1111,
        &quot;properties&quot;: {
          &quot;country&quot;: &quot;nigerian&quot;
        }
      }
    ],
    &quot;authorities&quot;: [
      {
        &quot;identifier&quot;: &quot;read&quot;,
        &quot;name&quot;: &quot;Read&quot;,
        &quot;description&quot;: &quot;Read Things&quot;
      },
      {
        &quot;identifier&quot;: &quot;execute&quot;,
        &quot;name&quot;: &quot;Execute&quot;,
        &quot;description&quot;: &quot;Execute Things&quot;
      }
    ],
    &quot;roles&quot;: [
      {
        &quot;identifier&quot;: &quot;admin&quot;,
        &quot;name&quot;: &quot;Admin&quot;,
        &quot;description&quot;: &quot;admin&quot;
      }
    ],
    &quot;roleAuthorities&quot;: [
      {
        &quot;role&quot;: &quot;admin&quot;,
        &quot;authority&quot;: &quot;execute&quot;
      }
    ],
    &quot;userAuthorities&quot;: [
      {
        &quot;user&quot;: &quot;test&quot;,
        &quot;authority&quot;: &quot;read&quot;
      }
    ],
    &quot;userRoles&quot;: [
      {
        &quot;user&quot;: &quot;test&quot;,
        &quot;role&quot;: &quot;admin&quot;
      }
    ],
    &quot;groups&quot;: [
      {
        &quot;identifier&quot;: &quot;workers&quot;,
        &quot;name&quot;: &quot;Workers&quot;,
        &quot;description&quot;: &quot;App Workers&quot;
      },
      {
        &quot;identifier&quot;: &quot;lawyers&quot;,
        &quot;name&quot;: &quot;Lawyers&quot;,
        &quot;description&quot;: &quot;Law people&quot;,
        &quot;parent&quot;: &quot;workers&quot;
      }
    ],
    &quot;userGroups&quot;: [
      {
        &quot;user&quot;: &quot;test&quot;,
        &quot;group&quot;: &quot;lawyers&quot;
      }
    ]
  }
]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="creating_a_domain">4.2. Creating A domain</h3>
<div class="paragraph">
<p>Instead of creating the entire domain environment at one go, you can opt to create just the domain object.</p>
</div>
<div class="paragraph">
<p>A <code>POST /appDomains</code> request will create a domain.</p>
</div>
<div class="paragraph">
<p>Authority: <code>domain.create</code></p>
</div>
<div class="sect3">
<h4 id="domain_creation_request_body">4.2.1. Domain Creation Request Body</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID of the domain (optional, auto-generated)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_domain_creation_request">4.2.2. Sample Domain Creation Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /appDomains HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MjUsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEuZ2xvYmFsLmRvbWFpbi5jcmVhdGUiLCJleHAiOjE1OTI5MTU4MzAsImlhdCI6MTU5MjkxNTgyNSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.ZL-f7JTG4W1KPtb_r5fQAGHgbvGXHYswaBlNcqLebkX-3tMDm5nLBs-jfIFXYMKlM0Q7HNTOonM_aUJiH3_k-zMQyhAsvIhAz93PoHmgqGoOa6aNNQxYwQ4vwoboV0yPzVbB4MCsuIHsJw9cP2a-ecwdNJs942CTzbKYFQDtSiCLoznAeOjUItq6QFGYEWXTMjzfMB0hwuJwRfRpA9-LywDI5BJZTF6h-9SB9B8f3afPEB0i72382HFtegW2Th0iVBlWYyWN1EgCLDttEbiP6LvsW6GKpt0EXihBsaHnMxUAkZAgINZmbN5c9TOTOEnJ5ghSmrxWykMzCrrJoYVIkw
Content-Length: 51
Host: localhost:8080

{
  &quot;id&quot; : &quot;00111111&quot;,
  &quot;name&quot; : &quot;new-domain&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="domain_creation_response">4.2.3. Domain Creation Response</h4>
<div class="paragraph">
<p>This API returns a <code>HTTP 201 CREATED</code> response with an empty body.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="retrieving_a_domain">4.3. Retrieving a Domain</h3>
<div class="paragraph">
<p>A <code>GET /appDomains/&lt;id&gt;</code> request will get a domain with an ID.</p>
</div>
<div class="sect3">
<h4 id="domain_retrieval_path">4.3.1. Domain Retrieval Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. /appDomains/{domainId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_domain_retrieval_request">4.3.2. Sample Domain Retrieval Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /appDomains/00111111 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MjUsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEuMDAxMTExMTEuZG9tYWluLnJlYWQiLCJleHAiOjE1OTI5MTU4MzAsImlhdCI6MTU5MjkxNTgyNSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.HGWvJeu0QrsuklZgG1mDzfTqY5D2zxSo7s4RMOvWtyzNPID_e3TyXUfRgZEFrsMQXQ6lO2VEAB_tiJOoZdy7GEI5sWzqBDayBL-B4ztU_iFaMuNjiRZ9hFVWapOAEQptLcZkLEYImQB3KaSCBuRNzr13fVRdcHIf45R121WyPjoPozXgtfb2MPUsCmbqcedN0tF8tIj84vVURnqGPnSyhNA68xe_Dp57ZX6Qr57cZgdlW2RmPfNwYK0T-18GxbdDPxR-XA4EAtz1PGiKJGOlbudknnoPmzjQStr0TZJsrZRz0VM7w8VKW7AKOAhMumhNUsZc5hz5Cce3vpJ1u4r1-g
Host: localhost:8080</code></pre>
</div>
</div>
<div class="paragraph">
<p>Authority: <code>domain.read</code></p>
</div>
</div>
<div class="sect3">
<h4 id="domain_retrieval_response_fields">4.3.3. Domain Retrieval Response Fields</h4>
<div class="paragraph">
<p>This API returns an AppDomain with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain item resource links</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_domain_retrieval_response">4.3.4. Sample Domain Retrieval Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/hal+json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 223

{
  &quot;name&quot; : &quot;new-domain&quot;,
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains/00111111&quot;
    },
    &quot;appDomain&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains/00111111&quot;
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="retrieving_all_domains">4.4. Retrieving All Domains</h3>
<div class="paragraph">
<p>A <code>GET /appDomains</code> request will get all domains.</p>
</div>
<div class="sect3">
<h4 id="retrieve_all_domains_sample">4.4.1. Retrieve All Domains Sample</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /appDomains HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MjUsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEuZ2xvYmFsLmRvbWFpbi5yZWFkIiwiZXhwIjoxNTkyOTE1ODMwLCJpYXQiOjE1OTI5MTU4MjUsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.OoDfAg-WQr5aOMMjM54IRqi_3dkkIIdSR8A2GE5gEMY3J1BAwMlY5hwl_LGT21Q19L8J5WXanDXlLnVG3hLt9-VbHXRP6KNHe0-Urn5Rzkyg7rXbMfqdaXZFPBbEb5ER9lqY4N2_7TaQ8_zC7ezLq0_iTGgwxc5x2JmhbtKyhOzcL38Z-j5UlXfpytDTLPpG06hBOqPmY-ogE7UtyWKt48EhG2Rxza8WwMIbwDWxO0XtwqD4I0NjMKfVF_A1L2O44nfUy4JvZMzISeVOLd7pqGR_e8kMg_yjbQU3-jq5oqrvG60TIrwsLzBksz5WzrMN6kuazF868MxE50GObA1yzA
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="retrieve_all_domains_response_body_fields">4.4.2. Retrieve All Domains Response Body Fields</h4>
<div class="paragraph">
<p>This API returns a list of all domains with these fields:</p>
</div>
<div class="paragraph">
<p>Authority: <code>domain.read</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_embedded.appDomains.[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_embedded.appDomains.[]._links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain item resource links</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource links</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page information</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="retrieve_all_domains_response_sample">4.4.3. Retrieve All Domains Response Sample</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
Content-Type: application/hal+json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 1187

{
  &quot;_embedded&quot; : {
    &quot;appDomains&quot; : [ {
      &quot;name&quot; : &quot;global-config&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/0&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/0&quot;
        }
      }
    }, {
      &quot;name&quot; : &quot;test&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/1&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/1&quot;
        }
      }
    }, {
      &quot;name&quot; : &quot;test-domain&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/test-app&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/test-app&quot;
        }
      }
    } ]
  },
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains&quot;
    },
    &quot;profile&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/profile/appDomains&quot;
    },
    &quot;search&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains/search&quot;
    }
  },
  &quot;page&quot; : {
    &quot;size&quot; : 20,
    &quot;totalElements&quot; : 3,
    &quot;totalPages&quot; : 1,
    &quot;number&quot; : 0
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="updating_a_domain">4.5. Updating A Domain</h3>
<div class="paragraph">
<p>A <code>PATCH /appDomains/&lt;id&gt;</code> request will update a domain with an ID.</p>
</div>
<div class="paragraph">
<p>Authority: <code>domain.update</code></p>
</div>
<div class="sect3">
<h4 id="domain_update_request_path">4.5.1. Domain Update Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. /appDomains/{domainId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_domain_update_request">4.5.2. Sample Domain Update Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PATCH /appDomains/00111111 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MjUsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEuMDAxMTExMTEuZG9tYWluLnVwZGF0ZSIsImV4cCI6MTU5MjkxNTgzMCwiaWF0IjoxNTkyOTE1ODI1LCJqdGkiOiJmNWJmNzVhNi0wNGEwLTQyZjctYTFlMC01ODNlMjljZGU4NmMifQ.gbcM5uDRTJ4eV397R1DYXMs2iaNwRvWBQ7BZtV5VvE3GLu4Y6Voq_q_OYvq_BMCkrEaPIPGdxXFQSho2McCEOkvG2hAstYtDlY2NTe5kFhCo5GlJHm5x9VQ93XdpjTAnYWzrzRhmI1asVcPRQQbX3hzgkNgjXDcv9SD6PLLJQq5Wsue4icSmKNrgGXFqVMRjnGELsOqDdinTN2UjQwInB_XJ8rsU8_uGyo-jdrP8VUDwmYIg0UUxpm1IczWBE6QfrnbtnpfaE7foSBdk0QauyzULCTN6KghaSNfoHYh8ZoNPkkLUqn7ttGzoKIudwzgYAaytXntXsnt6vAPto6CRcw
Content-Length: 23
Host: localhost:8080

{&quot;name&quot;:&quot;changed-name&quot;}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="domain_update_response">4.5.3. Domain Update Response</h4>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_domain_update_response">4.5.4. Sample Domain Update Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removing_a_domain">4.6. Removing A Domain</h3>
<div class="paragraph">
<p>A <code>DELETE /appDomains/&lt;id&gt;</code> request will remove a domain with an ID.</p>
</div>
<div class="paragraph">
<p>Authority: <code>domain.delete</code></p>
</div>
<div class="sect3">
<h4 id="domain_delete_request_path">4.6.1. Domain Delete Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. /appDomains/{domainId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_domain_delete_request">4.6.2. Sample Domain Delete Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /appDomains/00111111 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MjUsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEuMDAxMTExMTEuZG9tYWluLmRlbGV0ZSIsImV4cCI6MTU5MjkxNTgzMCwiaWF0IjoxNTkyOTE1ODI1LCJqdGkiOiJmNWJmNzVhNi0wNGEwLTQyZjctYTFlMC01ODNlMjljZGU4NmMifQ.XSa-j33GhYhvxmTg918n0bzCLG8EO_86bbml8lBXEXk9mHLFzMh0ZytsPeUFmhKFRJhNA0NUZxZeHCBVsoq0J-Ufbc4xWSAAbKitr9R5zTiRgze05MkrWr5B0-RITvPGPMg7GkTuZLa0A-dQpM56oXnQ5WB6GlNzC4q5Jr453eDZpccP7CTNZ-dct9uQvIW6GW3WchF0amuJUnxhgmvIwgfhsb4XjNAoMRXAGbfsVK55Lck3QaKSRcHNHdz3wSJR9J_S5eviiHs0BPf0yqhDmiGcY-u-ZwRyZJ8j0DFmM6Cm0P_DLyID0nVEC7hlY6wBwDIijDWWiW5gzd9V11RH9A
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="delete_domain_response">4.6.3. Delete Domain Response</h4>
<div class="paragraph">
<p>This API returns a <code>HTTP 204 NO CONTENT</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_delete_domain_response">4.6.4. Sample Delete Domain Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="authentication">5. Authentication</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Using the rest api, you can authenticate users given a username and password.</p>
</div>
<div class="paragraph">
<p>A <code>POST /domains/{domainId}/authenticate</code> request authenticates a user on a domain.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.authenticate</code></p>
</div>
<div class="sect2">
<h3 id="authentication_request">5.1. Authentication Request</h3>
<div class="sect3">
<h4 id="request_body">5.1.1. Request Body</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s password</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="authentication_request_path">5.1.2. Authentication Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. /domains/{domainId}/authenticate</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user authentication domain id</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_authentication_request">5.1.3. Sample Authentication Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/authenticate HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MzgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5hdXRoZW50aWNhdGUiLCJleHAiOjE1OTI5MTU4NDMsImlhdCI6MTU5MjkxNTgzOCwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.KfiLvGk81TCe4DZ27B39PmmiEW3aV2ftlHOZhUHXEEvB-IoD4AymKotBvT4c42gqnwWL1KZ3TxN0X-83P09KC58NE82iCA9MDUxpV5hLwS3C0FLIhXdTP2qttIm5zvaY9nIM9Qd2-dbI0N-UzcmFb0HotQrABUEeaNQLfMo5cPkoM90wlTvSMLLBllO_NQckpjYLOJ0TEWLJ8riTu_Jl4adUKQQjPWTfxr8tsNbGs-KGebjEWUUayJJ-XUJlNN3tLEQDTTERNJ0nftmkprHmi21x7MCX7-M8aM951z-TcJP6iTuxj4oeNRhTaFo4MvlTfwP1RK7gKTXGcKORGZN97Q
Content-Length: 63
Host: localhost:8080

{
  &quot;username&quot; : &quot;test-user&quot;,
  &quot;password&quot; : &quot;my-password&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="authentication_response">5.2. Authentication Response</h3>
<div class="paragraph">
<p>This API returns a JSON response with the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The authentication status. One of the following: AUTHENTICATED, USERNAME_INVALID, PASSWORD_INVALID</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="sample_authentication_response">5.2.1. Sample Authentication Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 26

{&quot;status&quot;:&quot;AUTHENTICATED&quot;}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing_users">6. Managing Users</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The User management endpoints provide APi&#8217;s for managing a user.</p>
</div>
<div class="sect2">
<h3 id="creating_a_user">6.1. Creating A User</h3>
<div class="paragraph">
<p>A <code>POST /domains/{domainId}/users</code> request will create a user.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.create</code></p>
</div>
<div class="sect3">
<h4 id="user_creation_request_body_fields">6.1.1. User Creation Request Body Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s username (must be unique)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s id (unique identifier used to reference user in your application)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s password</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="user_creation_request_path">6.1.2. User Creation Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. /domains/{domainId}/users</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_creation_request">6.1.3. Sample User Creation Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/users HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5jcmVhdGUiLCJleHAiOjE1OTI5MTU4NzQsImlhdCI6MTU5MjkxNTg2OSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.hSzYf_jO3BxgSepRdJkgVgenUs0acWADEe_khpx3asH1fwU-kgEpwSQGEhovafjwuVcpUyGnq68MBTSA23zWaHfcnxeJ7Yl-XboakH5p04DhDoQyFA2xdnLWVEiKtq48fdHMA5dwDA4oL0f71YMC9tExCYNKWktmJRDeFnbC-mptQ4E-kOnY6-D3gM3YDYkBWa_nFJ36LpjCuzjFIRqYJroY1hUfdRjWf4vDGGxh-c5ip9DvE5RuQd8YDMfhcKGoL2hwtii48qi0tMMZX4KAKoRl2Mgt0zewOcn87SRDWRpBkxolpClMfhEfXMQyXxCKupJ4xh6VCBU3RXsj5ruveQ
Content-Length: 67
Host: localhost:8080

{&quot;id&quot;:&quot;123&quot;,&quot;username&quot;:&quot;user&quot;,&quot;password&quot;:&quot;password&quot;,&quot;color&quot;:&quot;blue&quot;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As seen in the example,  you can also add custom properties like the "color" property.</p>
</div>
</div>
<div class="sect3">
<h4 id="user_creation_response">6.1.4. User Creation Response</h4>
<div class="paragraph">
<p>This API returns a <code>HTTP 201 CREATED</code> response with an empty body.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="retrieving_a_user">6.2. Retrieving A User</h3>
<div class="paragraph">
<p>A <code>GET  /domains/{domainId}/users/{userId}</code> request will get a user with an ID.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.read</code></p>
</div>
<div class="sect3">
<h4 id="user_retrieval_request_path">6.2.1. User Retrieval Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. /domains/{domainId}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_retrieval_request">6.2.2. Sample User Retrieval Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users/123453432 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5yZWFkIiwiZXhwIjoxNTkyOTE1ODc0LCJpYXQiOjE1OTI5MTU4NjksImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.PNI5DZZAj1UJMj9XoueDKSgM8dBqGghTj2NM0I0bZ31GSL7DD6Q6cjm58T3dEC-EyHwyTdFiyvOISP68PjNrQcgPBJW7bt7reVKtFeRrMhKvUTpF6Z2io-61SuhMLk8zr4dxz07pXnFdocJOZcLw1wgpqx3MsBhokmi3cIr0G5OP5MZFcMVOJgxwOwUmRctTNMqb908rjO0ZTDQtpNk8IZUVpQ--ayKvnErti5N6U9VPyUYgXRxOGeSLRb_s0_OvzkpBx-AGoxuzFHWZ7SkGOXumgTLczxEYctyp3oiZPQ-SGuJ3IqjiwNLrVkZFCxaUXJuuBFEPlrFhZvIkvBYPaw
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_retrieval_response">6.2.3. User Retrieval Response</h4>
<div class="paragraph">
<p>This API returns an AppUser with these fields as well as custom fields provided by the client:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_retrieval_response">6.2.4. Sample User Retrieval Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 140

{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user&quot;,&quot;password&quot;:&quot;my-password&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;favourite-colour&quot;:&quot;blue&quot;,&quot;country&quot;:&quot;Nigeria&quot;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this user has two extra properties: <code>favourite-color</code> and  <code>country</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="retrieving_all_users_in_a_domain">6.2.5. Retrieving All Users In a Domain</h4>
<div class="paragraph">
<p>A <code>GET /domains/{domainId}/users</code> request will get all users in a domain.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.read</code></p>
</div>
</div>
<div class="sect3">
<h4 id="domain_users_retrieval_request_query_params">6.2.6. Domain Users Retrieval Request Query Params</h4>
<div class="paragraph">
<p>The request includes page information to request for particular sets in the list.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_users_retrieval_request">6.2.7. Sample Users Retrieval Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users?page=0&amp;size=10 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5yZWFkIiwiZXhwIjoxNTkyOTE1ODc0LCJpYXQiOjE1OTI5MTU4NjksImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.PNI5DZZAj1UJMj9XoueDKSgM8dBqGghTj2NM0I0bZ31GSL7DD6Q6cjm58T3dEC-EyHwyTdFiyvOISP68PjNrQcgPBJW7bt7reVKtFeRrMhKvUTpF6Z2io-61SuhMLk8zr4dxz07pXnFdocJOZcLw1wgpqx3MsBhokmi3cIr0G5OP5MZFcMVOJgxwOwUmRctTNMqb908rjO0ZTDQtpNk8IZUVpQ--ayKvnErti5N6U9VPyUYgXRxOGeSLRb_s0_OvzkpBx-AGoxuzFHWZ7SkGOXumgTLczxEYctyp3oiZPQ-SGuJ3IqjiwNLrVkZFCxaUXJuuBFEPlrFhZvIkvBYPaw
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="users_retrieval_response">6.2.8. Users Retrieval Response</h4>
<div class="paragraph">
<p>This API returns a list of all users with the fields below. The response also has
fields that display the page information of result. These fields are shown in the example
response and are self explanatory.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s unique identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_retrieval_response">6.2.9. Sample Retrieval Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 606

{&quot;content&quot;:[{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user0&quot;,&quot;password&quot;:&quot;my-password0&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;},{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user1&quot;,&quot;password&quot;:&quot;my-password1&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;},{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user2&quot;,&quot;password&quot;:&quot;my-password2&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;}],&quot;totalPages&quot;:1,&quot;last&quot;:true,&quot;totalElements&quot;:3,&quot;number&quot;:0,&quot;size&quot;:10,&quot;sort&quot;:{&quot;sorted&quot;:false,&quot;unsorted&quot;:true,&quot;empty&quot;:true},&quot;first&quot;:true,&quot;numberOfElements&quot;:3,&quot;empty&quot;:false}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removing_a_user_with_an_id">6.3. Removing A User with an ID</h3>
<div class="paragraph">
<p>A <code>DELETE /domains/{domainId}/users/{userId}</code> request will remove a user with an ID.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.delete</code></p>
</div>
<div class="sect3">
<h4 id="user_deletion_request_path">6.3.1. User Deletion Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. /domains/{domainId}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s domain ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_deletion_request">6.3.2. Sample User Deletion Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /domains/test-app/users/123453432 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5kZWxldGUiLCJleHAiOjE1OTI5MTU4NzMsImlhdCI6MTU5MjkxNTg2OCwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.m0twhCFg17PhAjt2K64I7oM_CPQSAzZWQQfQHp3KGgnzB4YEQR9FN5epprbx0Yil6v8vZxgPSDiJkpefTVnOrHR8S0mDXNCazUHMbvBxjSz95pJf09LTLVYMVn2ovIGoRmF5GFIbXw7aFpOtAdewCt0giTfug6XUwSu7jtpdZ9DO7gjHuN-UBmhplIupxK-bfkehnZaS4k5ZrAgaF0OwMeVUk-FEDosfWx_7OgR6X-08fJSP-Xk2-6XezkKQfjYWwd4kjtFfL-_sUDkRyyuW_kIhi22Le9JUGlAl1CWUMLtqImo-oHIjGxwuqDcovoNLrmfi5ptjtC11v8u7K9Rnrw
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_deletion_response">6.3.3. User Deletion Response</h4>
<div class="paragraph">
<p>This API returns a <code>HTTP 204 NO CONTENT</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_user_deletion_response">6.3.4. Sample User Deletion Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="updating_a_user_with_an_id">6.4. Updating A User with an ID</h3>
<div class="paragraph">
<p>A <code>PUT /domains/{domainId}/users/{userId}</code> request will update a user with an ID. This will completely overwrite the properties of the
existing user. There are no partial updates.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.update</code></p>
</div>
<div class="sect3">
<h4 id="user_update_request_path">6.4.1. User Update Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. /domains/{domainId}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s domain ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s ID</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_update_request">6.4.2. Sample User Update Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PUT /domains/test-app/users/123453432 HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci51cGRhdGUiLCJleHAiOjE1OTI5MTU4NzQsImlhdCI6MTU5MjkxNTg2OSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.I2gAWgp-VfndFnnJTh6hhOPXuu4FfPd0ijQHqPtfi5tfOaqwRDRQvKImiiKTWdTbrPEWZR5BOog-WgJn59S-XnEJDASOpscEjQjqTAWByqxsHqiq7J0gq4kI3yNNsQOUc73Wahn7l5o8Hjd9Z_Gl2pxJE3DJlHCTwE0Y9WJXlYaFG-GuDK74z-ZNesfRNN6lznQa27L5WPQrCj0W3WIMnV54In2AvHWg2U1TLf_GcptlMMrke_WR-7V6n6wxtHVnk1EjQHiRf8OVw4T8wjqXIf5n-MpKPNQ5mZko9jxB40MgzE38bc-e4JFaPsPXTmeKH6hrxyRzOJkoGb_cMw_fSA
Content-Length: 75
Host: localhost:8080

{
  &quot;username&quot; : &quot;changed-username&quot;,
  &quot;password&quot; : &quot;changed-password&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_update_response">6.4.3. User Update Response</h4>
<div class="paragraph">
<p>This API returns a HTTP <code>204 NO CONTENT</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_user_update_response">6.4.4. Sample User Update Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="loading_a_user_by_username">6.5. Loading A User By Username</h3>
<div class="paragraph">
<p>A GET request will get a user with the specified username and domain id. This will return all roles, authorities and
groups associated with that user.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.load</code></p>
</div>
<div class="sect3">
<h4 id="user_load_request_path_parameters">6.5.1. User Load Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. /domains/{domainId}/users/load</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="user_load_request_query_parameters">6.5.2. User Load Request Query Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_load_request">6.5.3. Sample User Load Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users/load?username=test-user HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5sb2FkIiwiZXhwIjoxNTkyOTE1ODc0LCJpYXQiOjE1OTI5MTU4NjksImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.LbQxKFybLa4SnHPA7iioMro7Lf95EvjZkXlklYsehp0hlTxQQdCpjmwJUTaTqfc2uSRZuwibAxlUkttUTBIyp2xNHyWvfzwIvSHG6_hz_qWDKoun8wtIwMs2sQ420Cdj6-mpRKFv9clM83UgmVmKq7ERdPJfQ_WF514DU9P3ngboA9z-9yTbWGFB9-1SZEgzh2JjHvSnqKpYFd_TO3-n__EwRIfShnCAhHMC-KIaLu9m0-iOtv0okZYjipcfi0r5ZjUd-LLoB7bVAjyVTIWWNjhKznZl7fY8tFHbgUoz1i77EgumiuV2sW-FqHOnoo29MUx65M0-1_tKiu5tWF9fsA
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_load_response">6.5.4. User Load Response</h4>
<div class="paragraph">
<p>This API returns an AppUser with the fields below and other custom fields provided by the domain client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_load_response">6.5.5. Sample User Load Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 152

{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user&quot;,&quot;password&quot;:&quot;my-password&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;groups&quot;:[],&quot;favourite-colour&quot;:&quot;blue&quot;,&quot;country&quot;:&quot;Nigeria&quot;}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="querying_users">6.6. Querying Users</h3>
<div class="paragraph">
<p>A GET request can search for users by username, and other custom fields created by the client.</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.read</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Query string can only support custom string, integer and boolean fields currently.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Ensure to put individual criteria in parentheses.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="user_query_request_query_parameters">6.6.1. User Query Request Query Parameters</h4>
<div class="paragraph">
<p>The request includes page information to request for particular sets in the list.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query search string. Use any of your custom properties for this search including username</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_query_request">6.6.2. Sample User Query Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users/search?page=0&amp;size=10&amp;query=%28country+equals+%27Nigeria%27%29+and+%28favourite-color+equals+%27blue%27%29 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci5yZWFkIiwiZXhwIjoxNTkyOTE1ODc0LCJpYXQiOjE1OTI5MTU4NjksImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.PNI5DZZAj1UJMj9XoueDKSgM8dBqGghTj2NM0I0bZ31GSL7DD6Q6cjm58T3dEC-EyHwyTdFiyvOISP68PjNrQcgPBJW7bt7reVKtFeRrMhKvUTpF6Z2io-61SuhMLk8zr4dxz07pXnFdocJOZcLw1wgpqx3MsBhokmi3cIr0G5OP5MZFcMVOJgxwOwUmRctTNMqb908rjO0ZTDQtpNk8IZUVpQ--ayKvnErti5N6U9VPyUYgXRxOGeSLRb_s0_OvzkpBx-AGoxuzFHWZ7SkGOXumgTLczxEYctyp3oiZPQ-SGuJ3IqjiwNLrVkZFCxaUXJuuBFEPlrFhZvIkvBYPaw
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_query_response">6.6.3. User Query Response</h4>
<div class="paragraph">
<p>This API returns a list of all users with the fields below. The response also has
fields that display the page information of result. These fields are shown in the example
response and are self explanatory.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s unique identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_query_response">6.6.4. Sample User Query Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 606

{&quot;content&quot;:[{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user0&quot;,&quot;password&quot;:&quot;my-password0&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;},{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user1&quot;,&quot;password&quot;:&quot;my-password1&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;},{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user2&quot;,&quot;password&quot;:&quot;my-password2&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;}],&quot;totalPages&quot;:1,&quot;last&quot;:true,&quot;totalElements&quot;:3,&quot;number&quot;:0,&quot;size&quot;:10,&quot;sort&quot;:{&quot;sorted&quot;:false,&quot;unsorted&quot;:true,&quot;empty&quot;:true},&quot;first&quot;:true,&quot;numberOfElements&quot;:3,&quot;empty&quot;:false}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="partial_user_update">6.7. Partial User Update</h3>
<div class="paragraph">
<p>A <code>PATCH /domains/{domainId}/users</code> request can update users partially based on a query criteria</p>
</div>
<div class="paragraph">
<p>Authority: <code>user.update</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Query string can only support custom string, integer and boolean fields currently.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Ensure to put individual criteria in parentheses.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="partial_user_update_request_parameter">6.7.1. Partial User Update Request Parameter</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. /domains/{domainId}/users</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="partial_user_update_request">6.7.2. Partial User Update Request</h4>
<div class="paragraph">
<p>The PATCH request accepts a query string, and an array of update operations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query criteria for updating users</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updates.[].operation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The kind of update operation to make: (SET, INCREMENT, ADD, REMOVE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updates.[].property</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The property to update</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updates.[].value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value used by the update operation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_partial_user_update_request">6.7.3. Sample Partial User Update Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PATCH /domains/test-app/users HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4NjksInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAudXNlci51cGRhdGUiLCJleHAiOjE1OTI5MTU4NzQsImlhdCI6MTU5MjkxNTg2OSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.I2gAWgp-VfndFnnJTh6hhOPXuu4FfPd0ijQHqPtfi5tfOaqwRDRQvKImiiKTWdTbrPEWZR5BOog-WgJn59S-XnEJDASOpscEjQjqTAWByqxsHqiq7J0gq4kI3yNNsQOUc73Wahn7l5o8Hjd9Z_Gl2pxJE3DJlHCTwE0Y9WJXlYaFG-GuDK74z-ZNesfRNN6lznQa27L5WPQrCj0W3WIMnV54In2AvHWg2U1TLf_GcptlMMrke_WR-7V6n6wxtHVnk1EjQHiRf8OVw4T8wjqXIf5n-MpKPNQ5mZko9jxB40MgzE38bc-e4JFaPsPXTmeKH6hrxyRzOJkoGb_cMw_fSA
Content-Length: 105
Host: localhost:8080

{&quot;query&quot;:&quot;(country equals 'Nigeria')&quot;,&quot;updates&quot;:[{&quot;operation&quot;:&quot;SET&quot;,&quot;property&quot;:&quot;color&quot;,&quot;value&quot;:&quot;green&quot;}]}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="partial_user_update_response">6.7.4. Partial User Update Response</h4>
<div class="paragraph">
<p>The API returns 204 No content for a successful update.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_partial_user_update_response">6.7.5. Sample Partial User Update Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing_groups">7. Managing Groups</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Users can be categorized into groups and groups can be a parent or a child of another group. This
makes is possible to create nested hierarchies of users.</p>
</div>
<div class="paragraph">
<p>For instance, to model an office application you can have a root group called <code>Staff</code> and other sub groups
like <code>cleaners</code>, <code>receptionists</code>, <code>managers</code>, <code>technicians</code> and so on. Under <code>managers</code>, you can have
<code>regional_managers</code> and <code>country_managers</code>.</p>
</div>
<div class="paragraph">
<p>In the hierarchy above, adding a user to the <code>country_managers</code> group means that the user is also in the <code>managers</code>
group and the <code>staff</code> group.</p>
</div>
<div class="paragraph">
<p>Removal of the user from the <code>country managers</code> group removes the user from all parent groups. You have to
explicitly add the user in the <code>staff</code> group if you want the user to remain in that group.</p>
</div>
<div class="paragraph">
<p>Groups can also be used to implement multi-tenant solutions. Group information is added to the jwt token so that services
can know which groups a user belongs.</p>
</div>
<div class="sect2">
<h3 id="creating_a_group">7.1. Creating A Group</h3>
<div class="paragraph">
<p>A 'POST /domains/{domainId}/groups' request will create a group.</p>
</div>
<div class="paragraph">
<p>Authority: <code>group.create</code></p>
</div>
<div class="sect3">
<h4 id="group_creation_request_body_fields">7.1.1. Group Creation Request Body Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The group identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A brief description of the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>parentGroup</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The parent group of the group (if a sub group is being created)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="group_creation_request_path">7.1.2. Group Creation Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. /domains/{domainId}/groups</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_group_creation_request">7.1.3. Sample Group Creation Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/groups HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MzgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuZ3JvdXAuY3JlYXRlIiwiZXhwIjoxNTkyOTE1ODQzLCJpYXQiOjE1OTI5MTU4MzgsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.JX3SFil9rFEPoLwBczE6YL94s9jIjBEmNQmGh4GcEaDHOZ8_6Go2gd94PsCWN3typF1u5sDR3_bz4xegtc2X6XIi0F0hZFdBbpyMsXgGou9UeMs7UF2RBZvuOZ8Dz88eM4h4Cr6OKOoOzpDsyB8GEBXsNw6OqqlraeedogWwk2mEh9nyX9kRftwdx28KR4x5_WrjoxotNl2i-I2r6WcpFb_8sjz3is3mq_PTHoqvtUrFDBHSGeA19yKhWly0Nt6e0D3l4U2s7kfkRsCjV8YDgx0eNWjeVLMknWUoogSjnoAhWPIEttGzXZgrQG6f52JhHTLjUVGyuSdvuEsgWSdL1Q
Content-Length: 93
Host: localhost:8080

{&quot;identifier&quot;:&quot;test&quot;,&quot;name&quot;:&quot;Test Group&quot;,&quot;description&quot;:&quot;A test Group&quot;,&quot;parentGroup&quot;:&quot;sample&quot;}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we create a group with identifier <code>test</code> and set the parent to a group with identifier <code>sample</code>.
Adding a parent is optional. Create top level groups by setting the parent to null or omitting the property.</p>
</div>
</div>
<div class="sect3">
<h4 id="group_creation_response">7.1.4. Group Creation Response</h4>
<div class="paragraph">
<p>This API returns a <code>HTTP 201 CREATED</code> response with an empty body.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding_user_to_a_group">7.2. Adding User To A Group</h3>
<div class="paragraph">
<p>You can add user to a group by making a <code>POST</code> call.</p>
</div>
<div class="paragraph">
<p>Authority: <code>group.add_user</code></p>
</div>
<div class="sect3">
<h4 id="user_group_addition_request_path">7.2.1. User Group Addition Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. /domains/{domainId}/groups/{groupIdentifier}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupIdentifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The group identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_group_addition_request">7.2.2. Sample User Group Addition Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/groups/sample/users/123453432 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MzgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuZ3JvdXAuYWRkX3VzZXIiLCJleHAiOjE1OTI5MTU4NDMsImlhdCI6MTU5MjkxNTgzOCwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.F1CsATqNjWy2OFAfMbZ-buHaypD2I-8eKFycuFK7aNYE-WGEEdAboE-2z6rPt_d1m6muXdiOIRxgNvtDPYxEbUxWos4B1lkFoM0WpXrHbTkJHacdM1kF6yaEXEp0BoVx5Q7uIRxZaviYMRDdNxuUFGpD9oUVlfM4_aRpPzghi20OQwQg7t-O_mS5rl27QOVxNpG_rF7p5AfptIYx7PZxyELYKLq5p1sFU77Bu1rK8Z-32v_7pMRosLumciaXA6T3i5nbRqUgn5hwLQTxjN9_URha0SyNXjxzbL6S8_gorX44wM-HRyv_ubovqMVuvExArpOB5n3Jrf9B1-h77YAnQQ
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_group_addition_response">7.2.3. User Group Addition Response</h4>
<div class="paragraph">
<p>The api responds with a <code>HTTP 204 No Content</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_group_addition_response">7.2.4. Sample Group addition Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="removing_a_user_from_a_group">7.2.5. Removing a User From a Group</h4>
<div class="paragraph">
<p>You remove a user from a group by making a <code>DELETE</code> call below:</p>
</div>
<div class="paragraph">
<p>Authority: <code>group.remove_user</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. /domains/{domainId}/groups/{groupIdentifier}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupIdentifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The group identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_group_removal_request">7.2.6. Sample User Group Removal Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /domains/test-app/groups/sample/users/123453432 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MzgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuZ3JvdXAucmVtb3ZlX3VzZXIiLCJleHAiOjE1OTI5MTU4NDMsImlhdCI6MTU5MjkxNTgzOCwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.LeVIQuWEP9WQYYKJ17AYcYDL3khIcGbcERicSe-2yi1fu56Dagqyq9t5v9p_dWOntBP-Gujvp7R_UoB4WmRPsnSDvCm3mce2_zEnQvy8dgNHzzO4penR9nahQO3nqLg9hAyHd2kiicgD4YpnM3I2l-FUw-bHu6IRdcuiA55MhldvJW6dp2i15u6Xu_Yb75W-zkqwJgr58vrTxCWWuEN2yalZZpt9tuQh-JEYw8frcZrtH79eeu_fblhyspWP-I88l-5n9VVbaFXSTQc1EL4V9vRKwZmda6yi4ZKGNCOSLh8tadbvDCjGy9lWdm6CpxC-Zpbk1LYDNHokx5U9AO8DNg
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_group_removal_response">7.2.7. User Group Removal Response</h4>
<div class="paragraph">
<p>The server responds with a <code>HTTP 204 No Content</code> if successful.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_user_group_removal_response">7.2.8. Sample User Group Removal Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting_all_users_in_groups">7.3. Getting all Users In Groups</h3>
<div class="paragraph">
<p>A <code>GET</code> request returns all users in a group.</p>
</div>
<div class="paragraph">
<p>Authority: <code>group.read</code></p>
</div>
<div class="sect3">
<h4 id="user_group_retrieval_request">7.3.1. User Group Retrieval Request</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. /domains/{domainId}/groups/{groupIdentifier}/users</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupIdentifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The group identifier</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_group_retrieval_request_body_fields">7.3.2. Sample Group Retrieval Request Body Fields</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/groups/sample/users?page=0&amp;size=10 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTI5MTU4MzgsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuZ3JvdXAucmVhZCIsImV4cCI6MTU5MjkxNTg0MywiaWF0IjoxNTkyOTE1ODM4LCJqdGkiOiJmNWJmNzVhNi0wNGEwLTQyZjctYTFlMC01ODNlMjljZGU4NmMifQ.JCiHiVjgJQjfMqfH5X6nBwyVOQeGf1HzKJylVmNE8ru-ULWC-jD02BiHCKNqrk82RyqROXEc7ADqLpaz_MxVlMtzGLrzmjfuITL9XjwmaENlIGLqxNyIiIPPuHI_VPdCZOTGs46eIA1ZPWjjoDpMHQvRF_wwVr2IqNfIbUGDsdrOzxw2ijO20LrSrof7ZHOP7kCaKChftWZi_9P_DLWEPdTB3m31ZigBqSHDRAdLYGjG18czdiHfBQMkZ3zLa-4gV3EXtsg7QwrBifAjuLKZRzrcCsHct4ginh7opZemFZYt8XD47A5nB6kY-V-bS2cTlwp8LaVZb9Y2V4hXPyO-9g
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sample_group_retrieval_request_query_parameters">7.3.3. Sample Group Retrieval Request Query Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="group_retrieval_response">7.3.4. Group Retrieval Response</h4>
<div class="paragraph">
<p>The server responds with a <code>HTTP 200 OK</code> with a paginated list of users.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s unique identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_group_retrieval_response">7.3.5. Sample Group Retrieval Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 606

{&quot;content&quot;:[{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user0&quot;,&quot;password&quot;:&quot;my-password0&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;},{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user1&quot;,&quot;password&quot;:&quot;my-password1&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;},{&quot;id&quot;:&quot;123453432&quot;,&quot;username&quot;:&quot;test-user2&quot;,&quot;password&quot;:&quot;my-password2&quot;,&quot;roles&quot;:[],&quot;authorities&quot;:[],&quot;country&quot;:&quot;Nigeria&quot;,&quot;favourite-color&quot;:&quot;blue&quot;}],&quot;totalPages&quot;:1,&quot;last&quot;:true,&quot;totalElements&quot;:3,&quot;number&quot;:0,&quot;size&quot;:10,&quot;sort&quot;:{&quot;sorted&quot;:false,&quot;unsorted&quot;:true,&quot;empty&quot;:true},&quot;first&quot;:true,&quot;numberOfElements&quot;:3,&quot;empty&quot;:false}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing_roles">8. Managing Roles</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Roles are a way to batch authorities. When a role is mapped to some certain privileges/authorities,
a user with that role automatically has those privileges.</p>
</div>
<div class="sect2">
<h3 id="creating_a_role">8.1. Creating A Role</h3>
<div class="paragraph">
<p>A 'POST /domains/{domainId}/roles' request will create a role. Roles that already
exists will be updated. With this api, you can create multiple roles and initialize them
with their respective authorities. This is useful for initializing all the roles and authorities
an application needs in one step.</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.create</code></p>
</div>
<div class="sect3">
<h4 id="role_creation_request_body_fields">8.1.1. Role Creation Request Body Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The role identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A brief description of the role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of authority identifiers to be granted to this role</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="role_creation_request_path">8.1.2. Role Creation Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. /domains/{domainId}/roles</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_role_creation_request">8.1.3. Sample Role Creation Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/roles HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS51cGRhdGUiLCJleHAiOjE1OTM1MzMxMTYsImlhdCI6MTU5MzUzMzExMSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.JCu-NXCJsA_jMaVw3ccaHhzj1qAfU013uHsIxK88wi-eyn9UYPFXPlSNzPWftR4zkT3e6e3Ba7SMNJoKhksXMXRwJufrgSBpTiuENcGiSGjq7yHiPYS1BNuKsHjhpNfKL4f3G0EF44PEfTJdwCsPc_n5qIgjouP3rpGeht2plnpuFxOkEfW8I4hOjcEBhfYaq0jbkUTLrizsja7rXltbxrNabEfaPcPUKZYKhxpYq2zhH-R-KWSoQZVXDA2DzULZkI9z5tmZUkRpHRgcstXLvwzGsJB6HL8psfrqVIi8WmuxOE0zhSvvDUq4Wy_M36CL5ObK_8bcdb35wkCeBmS6dg
Content-Length: 142
Host: localhost:8080

[ {
  &quot;identifier&quot; : &quot;app.view&quot;,
  &quot;name&quot; : &quot;View Entities&quot;,
  &quot;description&quot; : &quot;View all Entities&quot;,
  &quot;authorities&quot; : [ &quot;test-auth&quot; ]
} ]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we create a role with identifier <code>test</code> and set the parent to a role with identifier <code>sample</code>.
Adding a parent is optional. Create top level roles by setting the parent to null or omitting the property.</p>
</div>
</div>
<div class="sect3">
<h4 id="role_creation_response">8.1.4. Role Creation Response</h4>
<div class="paragraph">
<p>This API returns a <code>HTTP 201 CREATED</code> response with an empty body.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="granting_a_role_to_a_user">8.2. Granting a Role to a User</h3>
<div class="paragraph">
<p>You can grant a role to auser by making a <code>POST</code> call. In the body we specify an array
of roles the user is to have.</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.grant_user</code></p>
</div>
<div class="sect3">
<h4 id="user_role_addition_request_path">8.2.1. User Role Addition Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. /domains/{domainId}/roles/users/{userId}/addRoles</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_role_addition_request">8.2.2. Sample User Role Addition Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/roles/users/123453432/addRoles HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTAsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS5ncmFudF91c2VyIiwiZXhwIjoxNTkzNTMzMTE1LCJpYXQiOjE1OTM1MzMxMTAsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.Ezpv1rRmy87a1FsgAuy1lLHBu05ghkRCZVlyINy6io07W-Do8fYXbnOJyUudwtmjyH0o2zPtrKkMrj08ERFvl1SesK77wo51B242ZqZyGBGSsAVhcCtDITjMJIRbKjfK7j3klTwCYao8p1OQCjb_k-i2lyQUjqJO4CNmL0K2ytSAltuvzLEjY7YBX0EGxQg23ItLbo2ziCjSqcrB5aa6XPDz_YTnl7QnHzdKy3PubqGaC07tYBtSTyr5vjtMWYkjYH3fFI6kmtWZhRgPQb5LmI12LY-5Wq3z7Nnw8iiOIDUQLDP8MBmX9CTULISduFK975ydN-jEw10OJnaSXuPflg
Content-Length: 12
Host: localhost:8080

[ &quot;sample&quot; ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_role_addition_response">8.2.3. User Role Addition Response</h4>
<div class="paragraph">
<p>The api responds with a <code>HTTP 204 No Content</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_role_addition_response">8.2.4. Sample Role addition Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="revoke_user_role">8.2.5. Revoke User Role</h4>
<div class="paragraph">
<p>You remove a role from a user by making a <code>DELETE</code> call below:</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.revoke_user</code></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. /domains/{domainId}/roles/users/{userId}/removeRoles</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_role_removal_request">8.2.6. Sample User Role Removal Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/roles/users/123453432/removeRoles HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTAsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS5yZXZva2VfdXNlciIsImV4cCI6MTU5MzUzMzExNSwiaWF0IjoxNTkzNTMzMTEwLCJqdGkiOiJmNWJmNzVhNi0wNGEwLTQyZjctYTFlMC01ODNlMjljZGU4NmMifQ.CUC0iX7c62t7G1bIUFxUyAn85LbvT36_K_wlpRsr3_RYNqHGI8KmKeq923k0U3T0sCIOuZwN0qKeA25NkOTpmYUWhcQliyr0aXb79iHS1sbl3fPvjbgmWBDhypP5el0VweFTF8O8FjBJT4s3qvsdUpLrdxPNK2b0BzNkWXv70Dnm5_2cWRxDnb2TE-jpnrHQ-KVxCBaHXBK8EePdtVMdNVrkWNl5YK_8owRTKeNIbPa82O9aFQGSQurQfFFdCllUQpbql1oaPGpxA0Id5z_lYXEKtzVCGej2ldOxCE3gFylgzwyR1GUBgNA4ptaCTcSZkgB4fXrGUCydSDiXRh-yiQ
Content-Length: 12
Host: localhost:8080

[ &quot;sample&quot; ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_role_removal_response">8.2.7. User Role Removal Response</h4>
<div class="paragraph">
<p>The server responds with a <code>HTTP 204 No Content</code> if successful.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_user_role_removal_response">8.2.8. Sample User Role Removal Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="getting_all_roles_in_a_domain">8.3. Getting all Roles In a Domain</h3>
<div class="paragraph">
<p>A <code>GET</code> request returns all roles.</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.read</code></p>
</div>
<div class="sect3">
<h4 id="all_roles_retrieval_request">8.3.1. All Roles Retrieval Request</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 18. /domains/{domainId}/roles</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the role</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_all_roles_retrieval_request_query_parameters">8.3.2. Sample All Roles Retrieval Request Query Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_all_role_retrieval_request">8.3.3. Sample  All Role Retrieval Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/roles?page=0&amp;size=10 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTAsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS5yZWFkIiwiZXhwIjoxNTkzNTMzMTE1LCJpYXQiOjE1OTM1MzMxMTAsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.CtC0QaHHYzzHIFigpIfK4cr1dRT5zk4aA7luHlkMG4tMAbdUHtum4MLwy762tPGoYCAwtpxAGM5AmOVPrIiDyywBcfnWHNLI6lXJdtFtVGecnfdrx6W4FwsTv6aTdyQRLNaUDjfYldw2ybtiw7hpaJ4iUqDehafA565_g2K5qI9GRrF6VqeGsWHEbWdrPgIf8FPXTplhfCN1vjwVVmJduqknLmOq17iaQvqXZkIs5TlHsvpvUVgZljw0fcQEB71b4wRgIy4SXgtc0OjmsdaiO2fh_SZ-6Qr-3JAO5xsksC6QtQ9ouob5qEJgjhD66IhGd78HtrfxGSm-c0WvoWp-pg
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="all_role_retrieval_response">8.3.4. All Role Retrieval Response</h4>
<div class="paragraph">
<p>The server responds with a <code>HTTP 200 OK</code> with a paginated list of roles.</p>
</div>
</div>
<div class="sect3">
<h4 id="all_role_retrieval_response_fields">8.3.5. All Role Retrieval Response Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The role identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A brief description of the role</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_all_role_retrieval_response">8.3.6. Sample All Role Retrieval Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 253

{&quot;content&quot;:[{&quot;identifier&quot;:&quot;sample&quot;,&quot;name&quot;:&quot;Sample Role&quot;,&quot;description&quot;:&quot;Sample Role&quot;}],&quot;last&quot;:true,&quot;totalPages&quot;:1,&quot;totalElements&quot;:1,&quot;number&quot;:0,&quot;size&quot;:10,&quot;sort&quot;:{&quot;unsorted&quot;:true,&quot;sorted&quot;:false,&quot;empty&quot;:true},&quot;first&quot;:true,&quot;numberOfElements&quot;:1,&quot;empty&quot;:false}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removing_a_role">8.4. Removing a Role</h3>
<div class="paragraph">
<p>A <code>DELETE</code> Request will remove a role from the domain.</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.delete</code></p>
</div>
<div class="sect3">
<h4 id="delete_role_request_path_parameters">8.4.1. Delete Role Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 19. /domains/{domainId}/roles/{roleIdentifier}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roleIdentifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The role identifier</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_delete_role_request">8.4.2. Sample Delete Role Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /domains/test-app/roles/sample HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS5kZWxldGUiLCJleHAiOjE1OTM1MzMxMTYsImlhdCI6MTU5MzUzMzExMSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.lMWa0IlyOWCxltoebD06JkVmc1CdJBPFPc2o-UB2dJgyKtMvmgGioDJBebvBt9uIVVdaDXe8wh8giijmkBlGYTq6DEkmIGUKpmr2snwihcu54ZdjY497-jU9oh0_ratefhYtq2ZFdf7NUi2WcbODBtorV7oR0dn2dbLGjUVXU56h3UJBbJDRQ7CXlQN7q7hvA8XTSItr4-TdXJ26xpIs1wm8heqmHxwl2dJjF40EMDpOzX7bjw9BCcC-GlSYxTwIdzOGJSfapQVvEtxVCdlUhbDYhGsxHZ-rayRJZN_bC3gxR1k_4qtHY0sJjUOo4nUtRQ-daCkwap0pk7LtuWneqA
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="delete_role_response">8.4.3. Delete Role Response</h4>
<div class="paragraph">
<p>The server responds with a <code>204 No Content Response</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding_authorities_to_a_role">8.5. Adding Authorities to a Role</h3>
<div class="paragraph">
<p>You can add new authorities to a role. Make a <code>POST</code> request with an array of roles
and their additional authorities.</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.add_authority</code></p>
</div>
<div class="sect3">
<h4 id="role_authority_addition_request_path_parameters">8.5.1. Role Authority Addition Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 20. /domains/{domainId}/roles/authorities/add</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the role</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_role_authority_addition_request_body">8.5.2. Sample Role Authority Addition Request Body</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/roles/authorities/add HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTAsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS5hZGRfYXV0aG9yaXR5IiwiZXhwIjoxNTkzNTMzMTE1LCJpYXQiOjE1OTM1MzMxMTAsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.QoCgVEediprxzJ4VyWBfBK5FoabXdr8GTRdSZIDy7YXmyhtZfmUslaVd5VUqIGlE7J9wGfgLgIR86DsP7UCJFE9z0Rqx6k1_D5U9xgZ9spMcAtHf78apSRxxs2PLjfqqcvphFcjbprUIJ1GWfmHq7Iy8NvGmhmCfBC62C4zMYu_nJJPJlaqujZGWd0MZA6GUK5-8FdO_74SuJNfHYYGn8mL1chWLlSwlaPymp9UVDQGPfpkdLJAPRDZR0RuYLh0cpvlMiNqecgOryeMC3MPq9kO6o-WX5kl1nBqeUnfafgQPFUtxG11THhyVcVAmyfrIG_km6wsJvDK8r_CARmHJCg
Content-Length: 65
Host: localhost:8080

[ {
  &quot;role&quot; : &quot;sample&quot;,
  &quot;authorities&quot; : [ &quot;test-auth&quot; ]
} ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="role_authority_addition_response">8.5.3. Role Authority Addition Response</h4>
<div class="paragraph">
<p>The server responds with a <code>204 No Content</code> Response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_role_authority_addition_response">8.5.4. Sample Role Authority Addition Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removing_authorities_from_a_role">8.6. Removing Authorities from a Role</h3>
<div class="paragraph">
<p>You can remove authorities from a role. Make a <code>POST</code> request with an array of roles
and the authorities to remove.</p>
</div>
<div class="paragraph">
<p>Authority: <code>role.remove_authority</code></p>
</div>
<div class="sect3">
<h4 id="role_authority_removal_request_path_parameters">8.6.1. Role Authority Removal Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 21. /domains/{domainId}/roles/authorities/remove</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the role</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_role_authority_removal_request_body">8.6.2. Sample Role Authority Removal Request Body</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/roles/authorities/remove HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAucm9sZS5yZW1vdmVfYXV0aG9yaXR5IiwiZXhwIjoxNTkzNTMzMTE2LCJpYXQiOjE1OTM1MzMxMTEsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.Od3l8eoyoJuSzgkVW3c9-ZZ46VX5K5bP6EmIZKavESVIx96J7c52evmLAv5Q2aEtJxsyy9ecN-Jb144tst62lxiDBA4tKbQA2JKyOkgkSz3EdLba9pJ8gy9vtXn7GDhDZv1ubHhe4VPxQUIB6Ew9FLQLbdRRdxlkNMfOg6Oa-A4vyzVzeUPKY3bx00HLCIck1DqTFglKM8SMy7h-CE3MIhx1OBhoAp-Bk89Gu25IfRkSr6oGbHoYHdnaHfOQn0E-5s8K7p19JCP_VKYVAhptI9bLYTp7Lnza-2AI25I_LJFGCPT0pxQIdu39kbF_ffdeImavTYu5vS7nZ5ZWMOJLOQ
Content-Length: 65
Host: localhost:8080

[ {
  &quot;role&quot; : &quot;sample&quot;,
  &quot;authorities&quot; : [ &quot;test-auth&quot; ]
} ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="role_authority_removal_response">8.6.3. Role Authority Removal Response</h4>
<div class="paragraph">
<p>The server responds with a <code>204 No Content</code> Response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_role_authority_removal_response">8.6.4. Sample Role Authority Removal Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="managing_authorities">9. Managing Authorities</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Authorities represent privileges granted to the user.</p>
</div>
<div class="sect2">
<h3 id="creating_an_authority">9.1. Creating an Authority</h3>
<div class="paragraph">
<p>A <code>POST</code> request will create an authority.</p>
</div>
<div class="paragraph">
<p>Authority: <code>authority.create</code></p>
</div>
<div class="sect3">
<h4 id="create_authority_request_path">9.1.1. Create Authority Request Path</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 22. /domains/{domainId}/authorities</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="create_authority_request_body_fields">9.1.2. Create Authority Request Body Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The authority identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the authority</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A brief description of the authority</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_create_authority_request">9.1.3. Sample Create Authority Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/authorities HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuYXV0aG9yaXR5LnVwZGF0ZSIsImV4cCI6MTU5MzUzMzExNiwiaWF0IjoxNTkzNTMzMTExLCJqdGkiOiJmNWJmNzVhNi0wNGEwLTQyZjctYTFlMC01ODNlMjljZGU4NmMifQ.MEaH-Bv92rVWblO8ZWKJoY0XTISOuQx3Z0Dm6kENzB6BE5QAH37vP8HoVA7-pQQjjwWjmgDuby4u3VML2oIa-IxsFaTM_fBqD4psvTAS8oYsDM94LW9Z2xAGYuUZGfqS9GsWQVrrLt7L-RqwuNXE1Ys12va5-jpCrbsBZ71kyVq1s59CxS4-l3OpJ73C0kswWDv0V4Of0sAJkjJHbG30cJ-FyvW6_GVUMtrHnmmr0fBx_UaQ8TjlRJNJcWanh45TzwSwCRZ7cMcSIJ6mN48eqZKTk1oYgJ5Jgp7tjCRTyXA59Rf4TixjE4Jn2ltpeCEHCN9XWNYcQ72iH-DKpTncVQ
Content-Length: 116
Host: localhost:8080

[ {
  &quot;identifier&quot; : &quot;app.view.authority&quot;,
  &quot;name&quot; : &quot;View Entities&quot;,
  &quot;description&quot; : &quot;View all Entities&quot;
} ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="create_authority_response">9.1.4. Create Authority Response</h4>
<div class="paragraph">
<p>The server responds with a <code>HTTP 201 Created</code> response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_create_authority_response">9.1.5. Sample Create Authority Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 201 Created
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="get_all_authorities_in_a_domain">9.2. Get All Authorities in a Domain</h3>
<div class="paragraph">
<p>A <code>GET</code> request will get all authorities in a domain.</p>
</div>
<div class="paragraph">
<p>Authority: <code>authority.read</code></p>
</div>
<div class="sect3">
<h4 id="all_authorities_retrieval_request">9.2.1. All Authorities Retrieval Request</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 23. /domains/{domainId}/authorities</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the authority</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_all_authorities_retrieval_request_query_parameters">9.2.2. Sample All Authorities Retrieval Request Query Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_all_authorities_retrieval_request">9.2.3. Sample  All Authorities Retrieval Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/authorities?page=0&amp;size=10 HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuYXV0aG9yaXR5LnJlYWQiLCJleHAiOjE1OTM1MzMxMTYsImlhdCI6MTU5MzUzMzExMSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.FwaP5pb_sc3yOHhBN7aTUXJBgrEXVCkKvqvPfjhkQNt--N4T48Tx88KF5WOWvx3jcwjaYXEv-Y9_VTDrErTN3sJ5VTMv6BbEYYhaMMYfJCjXy-PjW4bRS1MFRtkSI2NLunj1REdb3RTBaEAWdW8fj8PfbdDFzlfQaWT29TyeKREbryNe66WDLBgYy-M6xdVx4iwI8oi5A3y17Fm7014P5g3-TG8-g19CF4D2LUpV43siVCcVhmIiXRdaAH7CS8yt2KVqQuFRGRgU-JJm4wj1q5AgYtuWWDp33k4CJaBYcOnMabrFdgLqNFHAFMhTwXaRKdpbMVpCd5wX0L4ZTvvdWg
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="all_role_authorities_response">9.2.4. All Role Authorities Response</h4>
<div class="paragraph">
<p>The server responds with a <code>HTTP 200 OK</code> with a paginated list of authorities.</p>
</div>
</div>
<div class="sect3">
<h4 id="all_authorities_retrieval_response_fields">9.2.5. All Authorities Retrieval Response Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the authority</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The authority identifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A brief description of the authority</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_all_authorities_retrieval_response">9.2.6. Sample All Authorities Retrieval Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 263

{&quot;content&quot;:[{&quot;identifier&quot;:&quot;sample&quot;,&quot;name&quot;:&quot;Sample Authority&quot;,&quot;description&quot;:&quot;Sample Authority&quot;}],&quot;last&quot;:true,&quot;totalPages&quot;:1,&quot;totalElements&quot;:1,&quot;number&quot;:0,&quot;size&quot;:10,&quot;sort&quot;:{&quot;unsorted&quot;:true,&quot;sorted&quot;:false,&quot;empty&quot;:true},&quot;first&quot;:true,&quot;numberOfElements&quot;:1,&quot;empty&quot;:false}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="removing_an_authority">9.3. Removing an Authority</h3>
<div class="paragraph">
<p>Authority: <code>authority.delete</code></p>
</div>
<div class="paragraph">
<p>A <code>DELETE</code> Request will remove an authority from the domain.</p>
</div>
<div class="sect3">
<h4 id="delete_authority_request_path_parameters">9.3.1. Delete Authority Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 24. /domains/{domainId}/authorities/{authorityIdentifier}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authorityIdentifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The role identifier</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_delete_authority_request">9.3.2. Sample Delete Authority Request</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /domains/test-app/authorities/sample HTTP/1.1
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuYXV0aG9yaXR5LmRlbGV0ZSIsImV4cCI6MTU5MzUzMzExNiwiaWF0IjoxNTkzNTMzMTExLCJqdGkiOiJmNWJmNzVhNi0wNGEwLTQyZjctYTFlMC01ODNlMjljZGU4NmMifQ.gt78pbQBOZdZH_KLrPb5XvTZb3h8uOJVBOvJlkgErKgnJ0r4p-3XXck-xu4mEZ0qTUNjfc_8iPlGmL1vsm_792rkeI_2NrHa7p-u-ow0Rj5R6YX1ZwTqkh3Fk19EVSfNwunf_HYaz5mF0LYOsmpjbO-1j92oZzqUPfhixk1s0rboGpxhR2X2qLuEoFohhnrCwPtMjgcR0jl3acbB2FZLEh-rZ-mrF3Pl16K1cMj4Fr1GUm-Dts-zYP6JCmrGj4SuqXfZchJi9VHV4vvybNALILmk9MypShFeRns9EVk91rGvckO5Xux38BABH1zjo2dFgeZL-J54PJGdifOLdAHmPA
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="delete_authority_response">9.3.3. Delete Authority Response</h4>
<div class="paragraph">
<p>The server responds with a <code>204 No Content Response</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="granting_an_authority_to_a_user">9.4. Granting an Authority to a User</h3>
<div class="paragraph">
<p>A user can be granted an authority without being attached to a role. Make a <code>POST</code> request to add an
authority to a user.</p>
</div>
<div class="paragraph">
<p>Authority: <code>authority.grant_user</code></p>
</div>
<div class="sect3">
<h4 id="user_authority_addition_request_path_parameters">9.4.1. User Authority Addition Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 25. /domains/{domainId}/authorities/users/{userId}/addAuthorities</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the authority</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_authority_addition_request_body">9.4.2. Sample User Authority Addition Request Body</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/authorities/users/123453432/addAuthorities HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuYXV0aG9yaXR5LmdyYW50X3VzZXIiLCJleHAiOjE1OTM1MzMxMTYsImlhdCI6MTU5MzUzMzExMSwianRpIjoiZjViZjc1YTYtMDRhMC00MmY3LWExZTAtNTgzZTI5Y2RlODZjIn0.J2Ec3yQm2Fn7-1yUFrmTsnMlo4S1wyReqDgMGg76jy4nDejqPO3WJZewxz9WM90mFFPRObKU4LCdUvKora14jFcBotBv7o3XmyuTSBNi6jn_9BYbMNAlOtNUCfsgZ2spJ63QmKFlONZvmmhlzAzOo60c_7fTTOmjvRz6x4CXKJR3JgsXSSP-VIks9zxiRuZcw_JzLyFbrrZI5zcNFYwsioz-C3r7i-QSXw45Jm6O4akQqCAi1hZtAQ7RxxgcgnLEy0q5PnQmqP3Zwk7Fah4_EYzylqhj-oaqZjEozscAGnwdzeu4HiwlFplfc-JwdX-ChuTH9F_j6oTEUYWhXviLBw
Content-Length: 12
Host: localhost:8080

[ &quot;sample&quot; ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_authority_addition_response">9.4.3. User Authority Addition Response</h4>
<div class="paragraph">
<p>The server responds with a <code>204 No Content</code> Response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_user_authority_addition_response">9.4.4. Sample User Authority Addition Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="revoking_user_authorities">9.5. Revoking User Authorities</h3>
<div class="paragraph">
<p>You can revoke authorities for a user. Make a <code>POST</code> request with the authority identifier and the user id.</p>
</div>
<div class="paragraph">
<p>Authority: <code>authority.revoke_user</code></p>
</div>
<div class="sect3">
<h4 id="user_authority_removal_request_path_parameters">9.5.1. User Authority Removal Request Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 26. /domains/{domainId}/authorities/users/{userId}/removeAuthorities</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the authority</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sample_user_authority_removal_request_body">9.5.2. Sample User Authority Removal Request Body</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/authorities/users/123453432/removeAuthorities HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJraWQiOiIxMjMiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiI1ZWUzNzhhZDQ3NDg5MTI5Y2M0OWIzYjAiLCJyb2xlcyI6W10sImlzcyI6Im1tYWR1LmNvbSIsImdyb3VwcyI6W10sImF1dGhvcml0aWVzIjpbXSwiY2xpZW50X2lkIjoiMjJlNjViNzItOTIzNC00MjgxLTlkNzMtMzIzMDA4OWQ0OWE3IiwiZG9tYWluX2lkIjoiMCIsImF1ZCI6InRlc3QiLCJuYmYiOjE1OTM1MzMxMTEsInVzZXJfaWQiOiIxMTExMTExMTEiLCJzY29wZSI6ImEudGVzdC1hcHAuYXV0aG9yaXR5LnJldm9rZV91c2VyIiwiZXhwIjoxNTkzNTMzMTE2LCJpYXQiOjE1OTM1MzMxMTEsImp0aSI6ImY1YmY3NWE2LTA0YTAtNDJmNy1hMWUwLTU4M2UyOWNkZTg2YyJ9.OLJRiaKANuw7UlQ-2uLheNxHodJMWb9JghXm9wueklSAVdzq5zwlYn3_2TJy0IlMabcLBGw512TtLq6MS3xreiUuQEaUeUyKC7r6f5UC2bplbatbVs3BeMau8CYGfmobAdVHVyQmZVGfTHMwRfv0kvHsuaE3i0eB4Fc2U6rRaBNbJ1OtK6p8aBQN-XA6st4HIumT3rAR69iwpqEEm2vbkCwqJi9isMXic8zz59TZKFkexgaGExTDjYuuot8mmeR-RUFP5W-cJuQXO8wKuZeMchQGN58Wf_YtrqD_aDZroXOaETKl5nDtiAOkDAF5EdSWzf2SoM0HEWDTqZ1IVuRezw
Content-Length: 12
Host: localhost:8080

[ &quot;sample&quot; ]</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user_authority_removal_response">9.5.3. User Authority Removal Response</h4>
<div class="paragraph">
<p>The server responds with a <code>204 No Content</code> Response.</p>
</div>
</div>
<div class="sect3">
<h4 id="sample_user_authority_removal_response">9.5.4. Sample User Authority Removal Response</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>

    </div>

    <!-- End Main Content -->

    <!-- Sidebar -->

    <aside class="large-3 columns">

        <h4>Reference Documentations</h4>
        <ul>
            
            <li><a href="api-documentation">Api Convention Reference</a></li>
            
            <li><a href="user-management">Mmadu User Service Reference</a></li>
            
            <li><a href="registration">Mmadu Registration Service Reference</a></li>
            
            <li><a href="identity">Mmadu Identity Service Reference</a></li>
            
        </ul>

    </aside>

    <!-- End Sidebar -->
</div>

<!-- End Main Content and Sidebar -->


<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.js"></script>
<script>
$(document).foundation();
var doc = document.documentElement;
doc.setAttribute('data-useragent', navigator.userAgent);
</script>
</body>
</html>
