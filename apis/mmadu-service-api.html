<!doctype html>
<!--[if IE 9]>
<html class="lt-ie10" lang="en"> <![endif]-->
<html class="no-js" lang="en" data-useragent="Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mmadu Service Api</title>
    <meta name="description" content="Documentation on all of Mmadu">
    <meta name="author" content="Your name goes here">
    <meta name="copyright" content="Maybe consider a Creative Commons license">
    <link rel="stylesheet" href="../css/foundation.css">
    <link rel="stylesheet" href="../css/font-awesome.css">
    <link rel="stylesheet" href="../css/coderay.css">
    <link rel="stylesheet" href="../css/asciidoctor.css">
    <script src="../js/vendor/modernizr.js"></script>
    <script src="../js/toc.js"></script>
</head>
<body>


<!-- Nav Bar -->

<nav class="top-bar" data-topbar>
    <ul class="title-area">
        <!-- Title Area -->
        <li class="name">
            <h1>
                <a href="../">Mmadu Documentation</a>
            </h1>
        </li>
        <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
    </ul>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->

<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns" role="content">

        <h1>Mmadu Service Api</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#api_features">2. API Features</a>
<ul class="sectlevel2">
<li><a href="#security">2.1. Security</a></li>
<li><a href="#authentication">2.2. Authentication</a></li>
<li><a href="#user_management">2.3. User Management</a></li>
<li><a href="#token_security">2.4. Token Security</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mmadu user service exposes API&#8217;s to help you interact with the user service.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api_features">2. API Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="security">2.1. Security</h3>
<div class="paragraph">
<p>If token security is enabled, you will need a token to access the api.</p>
</div>
<div class="paragraph">
<p>Simply set the domain-auth-token header to the value of the token. For more information on tokens, see token management.</p>
</div>
<div class="sect3">
<h4 id="permissions">2.1.1. Permissions</h4>
<div class="paragraph">
<p>Some tokens have admin permissions, while others have domain permissions. Admin tokens can access all parts of the API,
while domain tokens can only access parts of the api that returns resources pertaining to the domain.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="authentication">2.2. Authentication</h3>
<div class="paragraph">
<p>Using the rest api, you can authenticate users given a username and
password.</p>
</div>
<div class="paragraph">
<p>A post request authenticates a user on a domain.</p>
</div>
<div class="sect3">
<h4 id="request_fields">2.2.1. Request Fields</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s password</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="path_parameters">2.2.2. Path Parameters</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. /domains/{domainId}/authenticate</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user authentication domain id</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/authenticate HTTP/1.1
Content-Type: application/json
domain-auth-token: 1234
Host: localhost:8080
Content-Length: 63

{
  &quot;username&quot; : &quot;test-user&quot;,
  &quot;password&quot; : &quot;my-password&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="response_fields">2.2.3. Response Fields</h4>
<div class="paragraph">
<p>This API returns a JSON response with the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The authentication status. One of the following: AUTHENTICATED, USERNAME_INVALID, PASSWORD_INVALID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 34

{
  &quot;status&quot; : &quot;AUTHENTICATED&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="user_management">2.3. User Management</h3>
<div class="paragraph">
<p>With Mmadu user service, you can manage your users across any domain.</p>
</div>
<div class="sect3">
<h4 id="domains">2.3.1. Domains</h4>
<div class="paragraph">
<p>A client application references users in one domain. A domain is referenced by a domain id. Applications
can share the same user base by using the same domain id.</p>
</div>
<div class="sect4">
<h5 id="security_2">Security</h5>
<div class="paragraph">
<p>If token security is enabled, the domain api can be accessed with the admin token.</p>
</div>
<div class="paragraph">
<p>Token security is enabled by default. To disable, set the environment property <code>mmadu.domain.api-security-enabled</code>
to <code>false</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="creating_a_domain">Creating A domain</h5>
<div class="paragraph">
<p>A POST request will create a domain</p>
</div>
<div class="sect5">
<h6 id="request_fields_2">Request Fields</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID of the domain (optional, auto-generated)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /appDomains HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080
Content-Length: 51

{
  &quot;id&quot; : &quot;00111111&quot;,
  &quot;name&quot; : &quot;new-domain&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_2">Response Fields</h6>
<div class="paragraph">
<p>This API returns a HTTP 201 CREATED response with an empty body.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="getting_a_domain_with_an_id">Getting a domain with an ID</h5>
<div class="paragraph">
<p>A GET request will get a domain with an ID.</p>
</div>
<div class="sect5">
<h6 id="path_parameters_2">Path Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. /appDomains/{domainId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /appDomains/00111111 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_3">Response Fields</h6>
<div class="paragraph">
<p>This API returns an AppDomain with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain item resource links</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 223

{
  &quot;name&quot; : &quot;new-domain&quot;,
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains/00111111&quot;
    },
    &quot;appDomain&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains/00111111&quot;
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="getting_all_domains">Getting All Domains</h5>
<div class="paragraph">
<p>A GET request will get all domains.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /appDomains HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_4">Response Fields</h6>
<div class="paragraph">
<p>This API returns a list of all domains with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_embedded.appDomains.[].name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_embedded.appDomains.[]._links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Domain item resource links</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resource links</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page information</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 1421

{
  &quot;_embedded&quot; : {
    &quot;appDomains&quot; : [ {
      &quot;name&quot; : &quot;global-config&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/0&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/0&quot;
        }
      }
    }, {
      &quot;name&quot; : &quot;test&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/1&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/1&quot;
        }
      }
    }, {
      &quot;name&quot; : &quot;test&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/test-app&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/test-app&quot;
        }
      }
    }, {
      &quot;name&quot; : &quot;Test domain For Config&quot;,
      &quot;_links&quot; : {
        &quot;self&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/1111111111&quot;
        },
        &quot;appDomain&quot; : {
          &quot;href&quot; : &quot;http://localhost:8080/appDomains/1111111111&quot;
        }
      }
    } ]
  },
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/appDomains{?page,size,sort}&quot;,
      &quot;templated&quot; : true
    },
    &quot;profile&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/profile/appDomains&quot;
    }
  },
  &quot;page&quot; : {
    &quot;size&quot; : 20,
    &quot;totalElements&quot; : 4,
    &quot;totalPages&quot; : 1,
    &quot;number&quot; : 0
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="updating_a_domain_with_an_id">Updating A Domain with an ID</h5>
<div class="paragraph">
<p>A PATCH request will update a domain with an ID.</p>
</div>
<div class="sect5">
<h6 id="path_parameters_3">Path Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. /appDomains/{domainId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PATCH /appDomains/00111111 HTTP/1.1
Content-Type: application/json
domain-auth-token: 2222
Host: localhost:8080
Content-Length: 23

{&quot;name&quot;:&quot;changed-name&quot;}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_5">Response Fields</h6>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="removing_a_domain">Removing A Domain</h5>
<div class="paragraph">
<p>A DELETE request will remove a domain with an ID.</p>
</div>
<div class="sect5">
<h6 id="path_parameters_4">Path Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. /appDomains/{domainId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /appDomains/00111111 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_6">Response Fields</h6>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="configuring_domains">Configuring Domains</h5>
<div class="sect5">
<h6 id="default_domain_configuration">Default Domain Configuration</h6>
<div class="paragraph">
<p>The default domain configuration is automatically adopted when no configuration exists for a domain.
Every domain can have at most one domain configuration.</p>
</div>
</div>
<div class="sect5">
<h6 id="accessing_the_default_domain_configuration">Accessing the Default Domain Configuration</h6>
<div class="paragraph">
<p>The default domain configuration has a domain configuration id of 0, and a blank authenticationApiToken. This means
that you can access the domain with any token value.</p>
</div>
<div class="paragraph">
<p>A GET request will get the default domain configuration.</p>
</div>
<div class="paragraph">
<p>Request</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domainConfigurations/0 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
<div class="paragraph">
<p>Response</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 267

{
  &quot;domainId&quot; : &quot;&quot;,
  &quot;authenticationApiToken&quot; : &quot;&quot;,
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/domainConfigurations/0&quot;
    },
    &quot;domainConfiguration&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/domainConfigurations/0&quot;
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="creating_a_configuration_for_a_domain">Creating A Configuration for a domain</h5>
<div class="paragraph">
<p>The domain will switch to its own configuration and cease to utilize the default configuration once a configuration
is created for the domain.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You cannot create more than one domain configuration object for a domain.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A POST request will create a domain configuration.</p>
</div>
<div class="sect5">
<h6 id="request_fields_3">Request Fields</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain configuration ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authenticationApiToken</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api token ID used to secure this domain</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domainConfigurations HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080
Content-Length: 87

{
  &quot;id&quot; : &quot;12333&quot;,
  &quot;domainId&quot; : &quot;1111111111&quot;,
  &quot;authenticationApiToken&quot; : &quot;1&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_7">Response Fields</h6>
<div class="paragraph">
<p>This API returns a HTTP 201 CREATED response with an empty body.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="getting_a_domain_configuration_with_an_id">Getting A Domain Configuration with an ID</h5>
<div class="paragraph">
<p>A GET request will get a domain configuration with a domain configuration ID.</p>
</div>
<div class="sect5">
<h6 id="path_parameters_5">Path Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. /domainConfigurations/{domainConfigurationId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainConfigurationId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain configuration ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domainConfigurations/12333 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_8">Response Fields</h6>
<div class="paragraph">
<p>This API returns a domain configuration with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authenticationApiToken</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api token ID used to secure this domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User item resource links</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 286

{
  &quot;domainId&quot; : &quot;1111111111&quot;,
  &quot;authenticationApiToken&quot; : &quot;1&quot;,
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/domainConfigurations/12333&quot;
    },
    &quot;domainConfiguration&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/domainConfigurations/12333&quot;
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="getting_a_domain_configuration_for_a_domain">Getting A Domain Configuration for a Domain</h5>
<div class="paragraph">
<p>A GET request will get a domain configuration for a domain.</p>
</div>
<div class="sect5">
<h6 id="request_parameters">Request Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domainConfigurations/search/findByDomainId?domainId=test-app HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_9">Response Fields</h6>
<div class="paragraph">
<p>This API returns a domain configuration with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain ID)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authenticationApiToken</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api token ID used to secure this domain</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>_links</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>map</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User item resource links</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/hal+json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 322

{
  &quot;domainId&quot; : &quot;test-app&quot;,
  &quot;authenticationApiToken&quot; : &quot;1&quot;,
  &quot;_links&quot; : {
    &quot;self&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/domainConfigurations/5d029b43db9e2b3ca498eec8&quot;
    },
    &quot;domainConfiguration&quot; : {
      &quot;href&quot; : &quot;http://localhost:8080/domainConfigurations/5d029b43db9e2b3ca498eec8&quot;
    }
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="removing_a_domain_configuration_by_id">Removing A Domain Configuration by ID</h5>
<div class="paragraph">
<p>A DELETE request will remove a domain configuration with an ID. Removal will make the domain use the default configuration.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Do not remove the default configuration as this will cause unexpected behaviour.
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="path_parameters_6">Path Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. /domainConfigurations/{domainConfigurationId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainConfigurationId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain configuration ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /domainConfigurations/12333 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response_fields_10">Response Fields</h6>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="updating_a_domain_configuration_with_id">Updating A Domain Configuration with ID</h5>
<div class="paragraph">
<p>A PATCH request will update a domain configuration with a domain configuration ID.</p>
</div>
<div class="sect5">
<h6 id="path_parameters_7">Path Parameters</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. /domainConfigurations/{domainConfigurationId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainConfigurationId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain configuration ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="paragraph">
<p>The example below changes the authenticationApiToken for the domain.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PATCH /domainConfigurations/12333 HTTP/1.1
Content-Type: application/json
domain-auth-token: 2222
Host: localhost:8080
Content-Length: 30

{&quot;authenticationApiToken&quot;:&quot;2&quot;}</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="response">Response</h6>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="appusers">2.3.2. AppUsers</h4>
<div class="paragraph">
<p>An AppUser contains user information for a specific user. A user could have a username, password, roles,
authorities and any other properties that the client deems fit.</p>
</div>
</div>
<div class="sect3">
<h4 id="creating_a_user">2.3.3. Creating A User</h4>
<div class="paragraph">
<p>A POST request will create a user.</p>
</div>
<div class="sect4">
<h5 id="fixed_request_fields">Fixed Request Fields</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s username (must be unigue)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Null</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s id (unique identifier used to reference user in your application)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s password</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s assigned roles</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s granted authorities</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">POST /domains/test-app/users HTTP/1.1
Content-Type: application/json
domain-auth-token: 1234
Host: localhost:8080
Content-Length: 157

{
  &quot;id&quot; : null,
  &quot;username&quot; : &quot;user&quot;,
  &quot;password&quot; : &quot;password&quot;,
  &quot;roles&quot; : [ &quot;admin&quot; ],
  &quot;authorities&quot; : [ &quot;manage-users&quot; ],
  &quot;color&quot; : &quot;blue&quot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As seen in the example,  you can also add custom properties like the "color" property.</p>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_11">Response Fields</h5>
<div class="paragraph">
<p>This API returns a HTTP 201 CREATED response with an empty body.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting_a_user_with_an_id">2.3.4. Getting A User with an ID</h4>
<div class="paragraph">
<p>A GET request will get a user with an ID.</p>
</div>
<div class="sect4">
<h5 id="path_parameters_8">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. /domains/{domainId}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users/123453432 HTTP/1.1
domain-auth-token: 1234
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_12">Response Fields</h5>
<div class="paragraph">
<p>This API returns an AppUser with these fields as well as custom fields provided by the client:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 207

{
  &quot;id&quot; : &quot;123453432&quot;,
  &quot;username&quot; : &quot;test-user&quot;,
  &quot;password&quot; : &quot;my-password&quot;,
  &quot;roles&quot; : [ &quot;admin-role&quot; ],
  &quot;authorities&quot; : [ &quot;admin&quot; ],
  &quot;favourite-colour&quot; : &quot;blue&quot;,
  &quot;country&quot; : &quot;Nigeria&quot;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>As you can see, this user has two extra properties: <code>favourite-color</code> and  <code>country</code>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting_all_users_in_a_domain">2.3.5. Getting All Users In a Domain</h4>
<div class="paragraph">
<p>A GET request will get all users regardless of domains.</p>
</div>
<div class="sect4">
<h5 id="request_parameters_2">Request Parameters</h5>
<div class="paragraph">
<p>The request includes page information to request for particular sets in the list.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users?page=0&amp;size=10 HTTP/1.1
domain-auth-token: 1234
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_13">Response Fields</h5>
<div class="paragraph">
<p>This API returns a list of all users with the fields below. The response also has
fields that display the page information of result. These fields are shown in the example
response and are self explanatory.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s unique identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 908

{
  &quot;content&quot; : [ {
    &quot;id&quot; : &quot;123453432&quot;,
    &quot;username&quot; : &quot;test-user0&quot;,
    &quot;password&quot; : &quot;my-password0&quot;,
    &quot;roles&quot; : [ &quot;admin-role&quot; ],
    &quot;authorities&quot; : [ &quot;admin&quot; ],
    &quot;country&quot; : &quot;Nigeria&quot;,
    &quot;favourite-color&quot; : &quot;blue&quot;
  }, {
    &quot;id&quot; : &quot;123453432&quot;,
    &quot;username&quot; : &quot;test-user1&quot;,
    &quot;password&quot; : &quot;my-password1&quot;,
    &quot;roles&quot; : [ &quot;admin-role&quot; ],
    &quot;authorities&quot; : [ &quot;admin&quot; ],
    &quot;country&quot; : &quot;Nigeria&quot;,
    &quot;favourite-color&quot; : &quot;blue&quot;
  }, {
    &quot;id&quot; : &quot;123453432&quot;,
    &quot;username&quot; : &quot;test-user2&quot;,
    &quot;password&quot; : &quot;my-password2&quot;,
    &quot;roles&quot; : [ &quot;admin-role&quot; ],
    &quot;authorities&quot; : [ &quot;admin&quot; ],
    &quot;country&quot; : &quot;Nigeria&quot;,
    &quot;favourite-color&quot; : &quot;blue&quot;
  } ],
  &quot;totalElements&quot; : 3,
  &quot;last&quot; : true,
  &quot;totalPages&quot; : 1,
  &quot;size&quot; : 10,
  &quot;number&quot; : 0,
  &quot;sort&quot; : {
    &quot;sorted&quot; : false,
    &quot;unsorted&quot; : true
  },
  &quot;numberOfElements&quot; : 3,
  &quot;first&quot; : true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="removing_a_user_with_an_id">2.3.6. Removing A User with an ID</h4>
<div class="paragraph">
<p>A DELETE request will remove a user with an ID.</p>
</div>
<div class="sect4">
<h5 id="path_parameters_9">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. /domains/{domainId}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s domain ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">DELETE /domains/test-app/users/123453432 HTTP/1.1
domain-auth-token: 1234
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_14">Response Fields</h5>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="updating_a_user_with_an_id">2.3.7. Updating A User with an ID</h4>
<div class="paragraph">
<p>A PUT request will update a user with an ID. Not, this api will completely overwrite the properties of the
existing user. There are no partial updates.</p>
</div>
<div class="sect4">
<h5 id="path_parameters_10">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. /domains/{domainId}/users/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s domain ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PUT /domains/test-app/users/123453432 HTTP/1.1
Content-Type: application/json
domain-auth-token: 1234
Host: localhost:8080
Content-Length: 219

{
  &quot;id&quot; : &quot;123453432&quot;,
  &quot;username&quot; : &quot;changed-username&quot;,
  &quot;password&quot; : &quot;changed-password&quot;,
  &quot;roles&quot; : [ &quot;admin-role&quot; ],
  &quot;authorities&quot; : [ &quot;admin&quot; ],
  &quot;favourite-colour&quot; : &quot;blue&quot;,
  &quot;country&quot; : &quot;Nigeria&quot;
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_15">Response Fields</h5>
<div class="paragraph">
<p>This API returns a HTTP 204 NO CONTENT response.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="getting_a_user_with_a_username_and_domain_id">2.3.8. Getting A User with a username and domain id</h4>
<div class="paragraph">
<p>A GET request will get a user with the specified username and domain id.</p>
</div>
<div class="sect4">
<h5 id="path_parameters_11">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. /domains/{domainId}/users/load</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="request_parameters_3">Request Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The username of the user</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users/load?username=test-user HTTP/1.1
domain-auth-token: 1234
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_16">Response Fields</h5>
<div class="paragraph">
<p>This API returns an AppUser with the fields below and other custom fields provided by the domain client.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s id</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 207

{
  &quot;id&quot; : &quot;123453432&quot;,
  &quot;username&quot; : &quot;test-user&quot;,
  &quot;password&quot; : &quot;my-password&quot;,
  &quot;roles&quot; : [ &quot;admin-role&quot; ],
  &quot;authorities&quot; : [ &quot;admin&quot; ],
  &quot;favourite-colour&quot; : &quot;blue&quot;,
  &quot;country&quot; : &quot;Nigeria&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="querying_users">2.3.9. Querying Users</h4>
<div class="paragraph">
<p>A GET request can search for users by username, and other custom fields created by the client.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Query string can only support custom string, integer and boolean fields currently.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Ensure to put individual criteria in parenthesis
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="request_parameters_4">Request Parameters</h5>
<div class="paragraph">
<p>The request includes page information to request for particular sets in the list.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query search string. Use any of your custom properties for this search including username</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>page</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">page number to request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maximum number of items in page</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /domains/test-app/users/search?page=0&amp;size=10&amp;query=%28country+equals+%27Nigeria%27%29+and+%28favorite-color+equals+%27blue%27%29 HTTP/1.1
domain-auth-token: 1234
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_17">Response Fields</h5>
<div class="paragraph">
<p>This API returns a list of all users with the fields below. The response also has
fields that display the page information of result. These fields are shown in the example
response and are self explanatory.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user&#8217;s unique identification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">password of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].roles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of roles assigned to this user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>content.[].authorities</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string list</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">List of authorities given to ths user</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 908

{
  &quot;content&quot; : [ {
    &quot;id&quot; : &quot;123453432&quot;,
    &quot;username&quot; : &quot;test-user0&quot;,
    &quot;password&quot; : &quot;my-password0&quot;,
    &quot;roles&quot; : [ &quot;admin-role&quot; ],
    &quot;authorities&quot; : [ &quot;admin&quot; ],
    &quot;country&quot; : &quot;Nigeria&quot;,
    &quot;favourite-color&quot; : &quot;blue&quot;
  }, {
    &quot;id&quot; : &quot;123453432&quot;,
    &quot;username&quot; : &quot;test-user1&quot;,
    &quot;password&quot; : &quot;my-password1&quot;,
    &quot;roles&quot; : [ &quot;admin-role&quot; ],
    &quot;authorities&quot; : [ &quot;admin&quot; ],
    &quot;country&quot; : &quot;Nigeria&quot;,
    &quot;favourite-color&quot; : &quot;blue&quot;
  }, {
    &quot;id&quot; : &quot;123453432&quot;,
    &quot;username&quot; : &quot;test-user2&quot;,
    &quot;password&quot; : &quot;my-password2&quot;,
    &quot;roles&quot; : [ &quot;admin-role&quot; ],
    &quot;authorities&quot; : [ &quot;admin&quot; ],
    &quot;country&quot; : &quot;Nigeria&quot;,
    &quot;favourite-color&quot; : &quot;blue&quot;
  } ],
  &quot;totalElements&quot; : 3,
  &quot;last&quot; : true,
  &quot;totalPages&quot; : 1,
  &quot;size&quot; : 10,
  &quot;number&quot; : 0,
  &quot;sort&quot; : {
    &quot;sorted&quot; : false,
    &quot;unsorted&quot; : true
  },
  &quot;numberOfElements&quot; : 3,
  &quot;first&quot; : true
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="partial_user_update">2.3.10. Partial User update</h4>
<div class="paragraph">
<p>A PATCH request can update users partially based on a query criteria</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Query string can only support custom string, integer and boolean fields currently.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Ensure to put individual criteria in parenthesis
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="path_parameters_12">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. /domains/{domainId}/users</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>domainId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The domain id of the user</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="request">Request</h5>
<div class="paragraph">
<p>The PATCH request accepts a query string and an array of update operations.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>query</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The query criteria for updating users</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updates.[].operation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The kind of update operation to make: (SET, INCREMENT, ADD, REMOVE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updates.[].property</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The property to update</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>updates.[].value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The value used by the update operation</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">PATCH /domains/test-app/users HTTP/1.1
Content-Type: application/json
domain-auth-token: 1234
Host: localhost:8080
Content-Length: 149

{
  &quot;query&quot; : &quot;(country equals 'Nigeria')&quot;,
  &quot;updates&quot; : [ {
    &quot;operation&quot; : &quot;SET&quot;,
    &quot;property&quot; : &quot;color&quot;,
    &quot;value&quot; : &quot;green&quot;
  } ]
}</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_18">Response Fields</h5>
<div class="paragraph">
<p>The API returns 204 No content for a successful update.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 204 No Content
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="token_security">2.4. Token Security</h3>
<div class="paragraph">
<p>Mmadu service uses token based security. Access to API can be done using admin and domain tokens.</p>
</div>
<div class="sect3">
<h4 id="admin_token">2.4.1. Admin Token</h4>
<div class="paragraph">
<p>An admin token is automatically created with an id "admin-token". This token will grant you access
to all resources in the API.</p>
</div>
</div>
<div class="sect3">
<h4 id="domain_tokens">2.4.2. Domain Tokens</h4>
<div class="paragraph">
<p>Domain tokens are created and assigned to a domain configuration. Every domain can have one domain token.
Multiple domains can share a domain token. Domain token grants the API user access to user resources for that domain.</p>
</div>
</div>
<div class="sect3">
<h4 id="token_encryption">2.4.3. Token Encryption</h4>
<div class="paragraph">
<p>If encryption is enabled, the token values will be encrypted before storing in the database. It uses an AES CBC cipher to
encrypt token values.</p>
</div>
<div class="paragraph">
<p>Encryption can be enabled by setting the environment property <code>mmadu.domain.encrypt-keys</code> to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>Token values are encrypted under the master-key.</p>
</div>
<div class="sect4">
<h5 id="changing_the_encryption_master_key">Changing the Encryption Master Key</h5>
<div class="paragraph">
<p>To change the encryption master key, set the environment property <code>mmadu.security.master-key</code> to the desired value.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="generating_a_token">2.4.4. Generating a Token</h4>
<div class="paragraph">
<p>A GET request will create a new token and return the token value. If token encryption is enabled, the token value returned is
encrypted.</p>
</div>
<div class="sect4">
<h5 id="request_2">Request</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /token/generate HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_19">Response Fields</h5>
<div class="paragraph">
<p>This API returns the newly generated token</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token value (Encrypted under master key if encryption is enabled)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 314

{
  &quot;id&quot; : &quot;5d029b45db9e2b3ca498eec9&quot;,
  &quot;value&quot; : &quot;faaed92281fb5d2ff84511676ad718965c0f2ff0bc06a9d186bb544ad84f3d493ae817b89d8ef41146d66d50ced97c01c096ed9136d79b5db6ec94414e9d0e6e8bee951e74d2b9e5518a975ef48c0af7d8825355709cbe9a58d7a1426bac1474ddddeeb605e9efc4d538d09023cad1e4764a3100a1360a6fdc6cece140a08198&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="retrieving_a_token">2.4.5. Retrieving a Token</h4>
<div class="paragraph">
<p>A GET request will get a token with the ID.</p>
</div>
<div class="sect4">
<h5 id="path_parameters_13">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. /token/retrieve/{tokenId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tokenId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /token/retrieve/1 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_20">Response Fields</h5>
<div class="paragraph">
<p>This API returns an AppUser with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token value (Encrypted under master key if encryption is enabled)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 39

{
  &quot;id&quot; : &quot;1&quot;,
  &quot;value&quot; : &quot;1234&quot;
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="resetting_a_token">2.4.6. Resetting a Token</h4>
<div class="paragraph">
<p>A GET request will generate a new token value for the token.</p>
</div>
<div class="sect4">
<h5 id="path_parameters_14">Path Parameters</h5>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. /token/reset/{tokenId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tokenId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">GET /token/reset/1 HTTP/1.1
domain-auth-token: 2222
Host: localhost:8080</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="response_fields_21">Response Fields</h5>
<div class="paragraph">
<p>This API returns an AppUser with these fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token ID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The token value (Encrypted under master key if encryption is enabled)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="http">HTTP/1.1 200 OK
Content-Type: application/json;charset=UTF-8
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
X-Frame-Options: DENY
Content-Length: 291

{
  &quot;id&quot; : &quot;1&quot;,
  &quot;value&quot; : &quot;0b84f78f5277e70962c3ff7907292f0d5935956576a84dfc5ded18681390d3011994063c577db09252fb62e095f069add14c59790d79276b4a7d64d9048815f1605a0838eaf6b86d3183e094d27fdaab1ded756ccdec1b9495d25dbfe1e92d2a3f20fa14b7fe2287ae34c50e3690244d7e215d899eb78cf89e2088ceec8b92e2&quot;
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

    </div>

    <!-- End Main Content -->

</div>

<!-- End Main Content and Sidebar -->


<!-- Footer -->

<footer class="row">
    <div class="large-12 columns">
        <hr>
        <div class="row">
            <div class="large-12 columns">
                <p>Footer</p>
            </div>
        </div>
    </div>
</footer>

<script src="../js/vendor/jquery.js"></script>
<script src="../js/foundation.min.js"></script>
<script>
$(document).foundation();
var doc = document.documentElement;
doc.setAttribute('data-useragent', navigator.userAgent);
</script>
</body>
</html>
